<div class="row form-group">
  <div class="col-md-12">
    <div ng-if="!angular.isDefined(lastLieferung)" translate>Es wurden noch keine KÃ¶rbe dieses Typs geplant oder geliefert.</div>
    <table ng-if="angular.isDefined(lastLieferung)" ng-table="lieferungenTableParams" class="table table-striped" show-filter="false" template-pagination="removePagerRow.html">
      <tr ng-repeat="korbprodukt in $data | orderBy:'produktBeschrieb'">
        <td data-title="'Produkt'|translate">
          <span ng-hide="korbprodukt.unlisted">
            {{korbprodukt.produktBeschrieb}}
          </span>
          <span ng-show="korbprodukt.unlisted">
            <input type="text" class="form-control large" name="korbprodukt.name" ng-disabled="!valuesEditable()" ng-model="korbprodukt.produktBeschrieb" placeholder="{{'Produktbez.'|translate}}" required>
          </span>
        </td>
        <td data-title="'Menge'|translate">
          <input type="number" placeholder="{{'Menge'|translate}}" ng-disabled="!valuesEditable()" ng-pattern="/^[0-9]+(\.[0-9]{1,3})?$/" min="0" step="0.1" class="form-control" name="menge" ng-model="korbprodukt.menge" required></input>
        </td>
        <td>
          <span ng-if="!korbprodukt.unlisted">
              <div>{{liefereinheiten[korbprodukt.einheit.toUpperCase()].label.short|translate}}</div>
            </span>
          <span ng-if="korbprodukt.unlisted">
              <oo-dropdown dropdown-id="einheit" display-style="uib-dropdown" values="liefereinheiten" selected-prop="id" property="label.short" selected="korbprodukt.einheit" ng-required></oo-dropdown>
            </span>
        </td>
        <td data-title="'Preis'|translate" ng-if="projekt.preiseSichtbar">
          <span ng-show="korbprodukt.menge" ng-if="!projekt.preiseEditierbar && !korbprodukt.unlisted">
            {{calculatePreis(korbprodukt)| ooCHF}}
          </span>
          <span ng-show="korbprodukt.menge" ng-if="projekt.preiseEditierbar || korbprodukt.unlisted">
            <input type="number" placeholder="{{'Preis'|translate}}" ng-disabled="!valuesEditable()" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" min="0" step="0.05" class="form-control" name="preis" ng-model="korbprodukt.preisEinheit" ng-change="calculatePreis(korbprodukt)" required></input>
          </span>
          <span ng-hide="korbprodukt.menge" class="base-preis">
            {{korbprodukt.preisEinheit | ooCHF}}
          </span>
        </td>
        <td data-title="'Produzent'|translate">
          <span ng-if="!valuesEditable()">
            {{korbprodukt.produzentKurzzeichen}}
          </span>
          <span ng-if="valuesEditable()">
            <oo-dropdown dropdown-id="produzent" display-style="uib-dropdown" values="korbprodukt.produzentenL" property="title" selected-prop="title" selected="korbprodukt.produzentKurzzeichen" selected-function="selectedProduzentFunc()" selected-function-scope="korbprodukt" required></oo-dropdown>
          </span>
        </td>
        <td>
          <button type="button" class="btn btn-default btn-sm" ng-show="valuesEditable()" ng-click="removeProdukt(abotypLieferung, korbprodukt)"><span class="fa fa-times"></span></button>
        </td>
      </tr>
    </table>
  </div>
</div>
